<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="style.css" type="text/css" media="screen">
<link rel="stylesheet" href="print.css" type="text/css" media="print">
<meta content="XMLSocket,timeout,close,connect,send" name="keywords">
<title>XMLSocket</title>
</head>
<body>
<script type="text/javascript" language="javascript" src="asdoc.js"></script><script type="text/javascript" language="javascript" src="cookies.js"></script><script type="text/javascript" language="javascript">
<!--
				asdocTitle = 'XMLSocket - Flash CS5 ActionScript 2.0 Language Reference';
				var baseRef = '';
				window.onload = configPage;
			--></script>
<table style="display:none" id="titleTable" cellspacing="0" cellpadding="0" class="titleTable">
<tr>
<td align="left" class="titleTableTitle">Flash CS5 ActionScript 2.0 Language Reference</td><td align="right" class="titleTableTopNav"><a onclick="loadClassListFrame('all-classes.html')" href="package-summary.html">All&nbsp;Packages</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('all-classes.html')" href="class-summary.html">All&nbsp;Classes</a>&nbsp;|&nbsp;<a href="language-elements.html">Language&nbsp;Elements</a>&nbsp;| <a onclick="loadClassListFrame('index-list.html')" href="all-index-Symbols.html">Index</a>&nbsp;|&nbsp;<a href="appendixes.html">Appendixes</a>&nbsp;|&nbsp;<a href="index.html?XMLSocket.html&amp;class-list.html" id="framesLink1">Frames</a><a onclick="parent.location=document.location" href="" style="display:none" id="noFramesLink1">No&nbsp;Frames</a></td><td rowspan="3" align="right" class="titleTableLogo"><img alt="Adobe Logo" title="Adobe Logo" class="logoImage" src="images/logo.jpg"></td>
</tr>
<tr class="titleTableRow2">
<td align="left" id="subTitle" class="titleTableSubTitle">Class&nbsp;XMLSocket</td><td align="right" id="subNav" class="titleTableSubNav"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a>&nbsp;| <a href="#eventSummary">Events</a></td>
</tr>
<tr class="titleTableRow3">
<td colspan="2">&nbsp;</td>
</tr>
</table>
<script type="text/javascript" language="javascript">
<!--
if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("Class XMLSocket"); titleBar_setSubNav(false,true,false,false,true,false,true,false,false,false,false,false,false,false);}
--></script>
<div class="MainContent">
<table cellspacing="0" cellpadding="0" class="classHeaderTable">
<tr>
<td class="classHeaderTableLabel">Package</td><td><a onclick="javascript:loadClassListFrame('class-list.html')" href="package-detail.html">Top Level</a></td>
</tr>
<tr>
<td class="classHeaderTableLabel">Class</td><td class="classSignature">public class XMLSocket</td>
</tr>
<tr>
<td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">XMLSocket <img class="inheritArrow" alt="Inheritance" title="Inheritance" src="images/inherit-arrow.gif"> <a href="Object.html">Object</a></td>
</tr>
</table>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p>
<p></p>The XMLSocket class implements client sockets that let the computer running Flash Player communicate with a server computer identified by an IP address or domain name. The XMLSocket class is useful for client-server applications that require low latency, such as real-time chat systems. A traditional HTTP-based chat solution frequently polls the server and downloads new messages using an HTTP request. In contrast, an XMLSocket chat solution maintains an open connection to the server, which lets the server immediately send incoming messages without a request from the client.   To use the XMLSocket class, the server computer must run a daemon that understands the protocol used by the XMLSocket class. The protocol is described in the following list:   <ul>     <li>XML messages are sent over a full-duplex TCP/IP stream socket connection.</li>     <li>Each XML message is a complete XML document, terminated by a zero (0) byte.</li>     <li>An unlimited number of XML messages can be sent and received over a single XMLSocket connection.</li>   </ul>    <p>Setting up a server to communicate with the XMLSocket object can be challenging. If your application does not require   real-time interactivity, use <span class="flashonly">the <CODE>loadVariables()</CODE> function, or </span>Flash HTTP-based XML server connectivity   <CODE>(XML.load()</CODE>, <CODE>XML.sendAndLoad()</CODE>, <CODE>XML.send()</CODE>), instead of the XMLSocket class. </p>    <p>To use the methods of the XMLSocket class, you must first use the constructor, <CODE>new XMLSocket</CODE>, to create an XMLSocket object.</p>     <p> <em>Socket policy files</em> on the target host specify the hosts from which SWF files    can make socket connections, and the ports to which those connections can be made.    The security requirements with regard to socket policy files have become more stringent    in the last several releases of Flash Player.    In all versions of Flash Player, Adobe recommends the use of a socket policy file;    in some circumstances, a socket policy file is required. Therefore, if you    are using XMLSocket objects, make sure that the target host provides a socket policy file    if necessary. </p>      <p>The following list summarizes the requirements for socket policy files    in different versions of Flash Player:</p>     <ul>        <li> In Flash Player 9.0.124.0 and later, a socket policy file is required for any XMLSocket connection.        That is, a socket policy file on the target host is required no matter what port        you are connecting to, and is required even if you are connecting        to a port on the same host that is serving the SWF file. </li>      <li> In Flash Player versions 9.0.115.0 and earlier, if you want to connect to a port number below 1024,        or if you want to connect to a host other than the one serving the SWF file,        a socket policy file on the target host is required. </li>     <li> In Flash Player 9.0.115.0, even if a socket policy file isn't required,        a warning is displayed when using the Flash Debug Player if the target host        doesn't serve a socket policy file. </li>     </ul>         <p>For more information related to security, see the following: </p>            <ul>          <li>"Understanding Security" in <i>Learning ActionScript 2.0 in Flash</i></li>       <li>The Flash Player Developer Center Topic:       <a href="http://www.adobe.com/go/devnet_security_en" target="external">Security</a></li>       </ul>        <p></p>
<br>
<hr>
</div>
<a name="propertySummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Properties</div>
<table id="summaryTableProperty" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Property</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a class="signatureLink" href="#timeout">timeout</a> : <a href="Number.html">Number</a>
<div class="summaryTableDescription">The number of milliseconds to wait for a connection.</div>
</td>
</tr>
</table>
<a name="propertiesInheritedFromObject"></a>
<table class="summaryTable" cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th>Properties inherited from class <a href="Object.html">Object</a></th>
</tr>
<tr>
<td class="summaryTablePaddingCol">&nbsp;</td><td class="inheritanceList"><code><a href="Object.html#__proto__">__proto__</a>, <a href="Object.html#__resolve">__resolve</a>, <a href="Object.html#constructor">constructor</a>, <a href="Object.html#prototype">prototype</a></code></td>
</tr>
</table>
</div>
<a name="methodSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Methods</div>
<table id="summaryTableMethod" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Method</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#XMLSocket()">XMLSocket</a>()</div>
<div class="summaryTableDescription">Creates a new XMLSocket object.</div>
</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#close()">close</a>():Void</div>
<div class="summaryTableDescription">Closes the connection specified by XMLSocket object.</div>
</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#connect()">connect</a>(host:<a href="String.html">String</a>, port:<a href="Number.html">Number</a>):<a href="Boolean.html">Boolean</a>
</div>
<div class="summaryTableDescription">Establishes a connection to the specified Internet host using the specified TCP port, and returns <code>true</code> or <code>false,</code> depending on whether a connection is successfully established.</div>
</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#send()">send</a>(data:<a href="Object.html">Object</a>):Void</div>
<div class="summaryTableDescription">Converts the XML object or data specified in the <code>object</code> parameter to a string and transmits it to the server, followed by a zero (0) byte.</div>
</td>
</tr>
</table>
<a name="methodsInheritedFromObject"></a>
<table class="summaryTable" cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th>Methods inherited from class <a href="Object.html">Object</a></th>
</tr>
<tr>
<td class="summaryTablePaddingCol">&nbsp;</td><td class="inheritanceList"><code><a href="Object.html#addProperty()">addProperty</a>, <a href="Object.html#hasOwnProperty()">hasOwnProperty</a>, <a href="Object.html#isPropertyEnumerable()">isPropertyEnumerable</a>, <a href="Object.html#isPrototypeOf()">isPrototypeOf</a>, <a href="Object.html#registerClass()">registerClass</a>, <a href="Object.html#toString()">toString</a>, <a href="Object.html#unwatch()">unwatch</a>, <a href="Object.html#valueOf()">valueOf</a>, <a href="Object.html#watch()">watch</a></code></td>
</tr>
</table>
</div>
<a name="eventSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Events</div>
<table id="summaryTableEvent" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Event</th><th>Summary</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:onClose">onClose</a> = function() {}</div>
</td><td class="summaryTableDescription summaryTableCol">Invoked only when an open connection is closed by the server.</td><td class="summaryTableOwnerCol">XMLSocket</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:onConnect">onConnect</a> = function(success:<a href="Boolean.html">Boolean</a>) {}</div>
</td><td class="summaryTableDescription summaryTableCol">Invoked by Flash Player when a connection request initiated through <code>XMLSocket.connect()</code> has succeeded or failed.</td><td class="summaryTableOwnerCol">XMLSocket</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:onData">onData</a> = function(src:<a href="String.html">String</a>) {}</div>
</td><td class="summaryTableDescription summaryTableCol">Invoked when a message has been downloaded from the server, terminated by a zero (0) byte.</td><td class="summaryTableOwnerCol">XMLSocket</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#event:onXML">onXML</a> = function(src:<a href="XML.html">XML</a>) {}</div>
</td><td class="summaryTableDescription summaryTableCol">Invoked by Flash Player when the specified XML object containing an XML document arrives over an open XMLSocket connection.</td><td class="summaryTableOwnerCol">XMLSocket</td>
</tr>
</table>
</div>
<script type="text/javascript" language="javascript">
<!--
showHideInherited();
--></script>
<div class="MainContent">
<a name="propertyDetail"></a>
<div class="detailSectionHeader">Property detail</div>
<a name="timeout"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">timeout</td><td class="detailHeaderType">property</td>
</tr>
</table>
<div class="detailBody">
<code>public var timeout:<a href="Number.html">Number</a></code>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Language version:&nbsp;</b></td><td>ActionScript 2.0</td>
</tr>
</table>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 10</td>
</tr>
</table>
<p></p><p>The number of milliseconds to wait for a connection.            </p><p>If the connection doesn't succeed within the specified time, the connection fails.       The default value is 20,000 (twenty seconds).</p>             </div>
<a name="constructorDetail"></a>
<div class="detailSectionHeader">Constructor detail</div>
<a name="XMLSocket()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">XMLSocket</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">constructor</td>
</tr>
</table>
<div class="detailBody">
<code>public function XMLSocket()</code>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Creates a new XMLSocket object. The XMLSocket object is not initially connected to any server. You must call <a href="#connect()"><code>XMLSocket.connect()</code></a> to connect the object to a server.            </p><br>
<span class="label">Example</span>
<br>The following example creates an XMLSocket object:       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket();
</pre></div>            <p></p>
</div>
<a name="methodDetail"></a>
<div class="detailSectionHeader">Method detail</div>
<a name="close()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">close</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td>
</tr>
</table>
<div class="detailBody">
<code>public function close():Void</code>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Closes the connection specified by XMLSocket object.            </p><p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="XMLSocket.html#connect()" target="">XMLSocket.connect()</a>
</div>
<br>
<span class="label">Example</span>
<br>The following simple example creates an XMLSocket object, attempts to connect to the server, and then closes the connection.       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket();
socket.connect(null, 2000);
socket.close();
</pre></div>             <p></p>
</div>
<a name="connect()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">connect</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function connect(host:<a href="String.html">String</a>, port:<a href="Number.html">Number</a>):<a href="Boolean.html">Boolean</a></code>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5 &mdash; Behavior changed in Flash Player 7 and Flash Player 9.</td>
</tr>
</table>
<p></p><p>Establishes a connection to the specified Internet host using the specified TCP port,       and returns <code>true</code> or <code>false,</code> depending on whether a       connection is successfully established. If you do not know the port number of your Internet       host computer, contact your network administrator.             </p><p>If you specify <code>null</code> for the <code>host</code> parameter, the host contacted is       the one where the SWF file calling <code>XMLSocket.connect()</code> resides. For example, if       the SWF file was downloaded from www.yoursite.com, specifying <code>null</code> for the host       parameter is the same as entering the IP address for www.yoursite.com.</p>             <p>When <code>load()</code> is executed, the XML object property <code>loaded</code> is set to       <code>false</code>. When the XML data finishes downloading, the <code>loaded</code> property is       set to <code>true</code>, and the <code>onLoad</code> event handler is invoked. The XML data is       not parsed until it is completely downloaded. If the XML object previously contained any XML       trees, they are discarded.</p>             <p>If <code>XMLSocket.connect()</code> returns a value of <code>true</code>, the initial stage       of the connection process is successful; later, the <code>XMLSocket.onConnect</code> method is       invoked to determine whether the final connection succeeded or failed. If       <code>XMLSocket.connect()</code> returns <code>false</code>, a connection could not be       established. </p>              <p><strong>Note:</strong> IPv6 (Internet Protocol version 6) is supported<span platform="actionscript"> in       Flash Player 9.0.115.0 and later</span>.            IPv6 is a version of Internet Protocol that supports       128-bit addresses (an improvement on the earlier IPv4 protocol that supports 32-bit       addresses). You might need to activate IPv6 on your networking interfaces. For more       information, see the Help for the operating system hosting the data.       If IPv6 is supported on the hosting system, you can specify numeric IPv6 literal addresses       in URLs enclosed in brackets ([])<span platform="actionscript">, as in the following</span>. </p>             <span platform="actionscript">       <pre>
      rtmp://[2001:db8:ccc3:ffff:0:444d:555e:666f]:1935/test
      </pre>       </span>       </p>             <p> <em>Socket policy files</em> on the target host specify the hosts from which SWF files    can make socket connections, and the ports to which those connections can be made.    The security requirements with regard to socket policy files have become more stringent    in the last several releases of Flash Player.    In all versions of Flash Player, Adobe recommends the use of a socket policy file;    in some circumstances, a socket policy file is required. Therefore, if you    are using XMLSocket objects, make sure that the target host provides a socket policy file    if necessary. </p>      <p>The following list summarizes the requirements for socket policy files    in different versions of Flash Player:</p>     <ul>        <li> In Flash Player 9.0.124.0 and later, a socket policy file is required for any XMLSocket connection.        That is, a socket policy file on the target host is required no matter what port        you are connecting to, and is required even if you are connecting        to a port on the same host that is serving the SWF file. </li>      <li> In Flash Player versions 9.0.115.0 and earlier, if you want to connect to a port number below 1024,        or if you want to connect to a host other than the one serving the SWF file,        a socket policy file on the target host is required. </li>     <li> In Flash Player 9.0.115.0, even if a socket policy file isn't required,        a warning is displayed when using the Flash Debug Player if the target host        doesn't serve a socket policy file. </li>     </ul>         <p>For more information related to security, see the following: </p>            <ul>          <li>"Understanding Security" in <i>Learning ActionScript 2.0 in Flash</i></li>       <li>The Flash Player Developer Center Topic:       <a href="http://www.adobe.com/go/devnet_security_en" target="external">Security</a></li>       </ul>            <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">host</span>:<a href="String.html">String</a></code> &mdash; String; a fully qualified DNS domain name or an IP address in the form <em>aaa.bbb.ccc.ddd</em>. You can also specify <code>null</code> to connect to the host server on which the SWF file resides. If the SWF file issuing this call is running in a&#xA0;web browser, <code>host</code> must be in the same domain as the SWF file; for details, see the information about domain restrictions for SWF files in the       main description of this method.           </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">port</span>:<a href="Number.html">Number</a></code> &mdash; A number; the TCP port number on the host used to establish a connection.       </td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code><a href="Boolean.html">Boolean</a></code> &mdash; 
<code>true</code> if the connection is successful; <code>false</code> otherwise.            

</td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="XMLSocket.html#event:onConnect" target="">XMLSocket.onConnect</a>
<br>
<a href="statements.html#function" target="">function statement</a>
</div>
<br>
<span class="label">Example</span>
<br>The following example uses <code>XMLSocket.connect()</code> to connect to the host where the SWF file&#xA0;resides and uses <code>trace</code> to display the return value indicating the success or failure of the&#xA0;connection:       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket()
socket.onConnect = function (success:Boolean) {
    if (success) {
    trace ("Connection succeeded!")
    } else {
    trace ("Connection failed!")
    }
}
if (!socket.connect(null, 2000)) {
    trace ("Connection failed!")
}
</pre></div>            <p></p>
</div>
<a name="send()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">send</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function send(data:<a href="Object.html">Object</a>):Void</code>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Converts the XML object or data specified in the <code>object</code> parameter to a string and transmits it to the server, followed by a zero (0) byte. If <code>object</code> is an XML object, the string is the XML textual representation of the XML object. The send operation is asynchronous; it returns immediately, but the data may be transmitted at a later time. The <code>XMLSocket.send()</code> method does not return a value&#xA0;indicating whether the data was successfully transmitted.       </p><p>If the <code><em>myXMLSocket</em></code> object is not connected to the server (using <a href="#connect()"><code>XMLSocket.connect()</code></a>), the <code>XMLSocket.send()</code> operation will fail. </p>            <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">data</span>:<a href="Object.html">Object</a></code> &mdash; An XML object or other data to transmit to the server.                     </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="XMLSocket.html#connect()" target="">XMLSocket.connect()</a>
</div>
<br>
<span class="label">Example</span>
<br>The following example shows how you could specify a user name and password to send the XML object <code>my_xml</code> to the server:       <div class='listing'><pre>
<code>var myXMLSocket:XMLSocket = new XMLSocket();</code>
<code>var my_xml:XML = new XML();</code>
<code>var myLogin:XMLNode = my_xml.createElement("login");</code>
<code>myLogin.attributes.username = usernameTextField;</code>
<code>myLogin.attributes.password = passwordTextField;</code>
<code>my_xml.appendChild(myLogin);</code>
<code>myXMLSocket.send(my_xml);</code>
</pre></div>            <p></p>
</div>
<div class="detailSectionHeader">Event detail</div>
<a name="event:onClose"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">onClose</td><td class="detailHeaderType">event&nbsp;handler</td>
</tr>
</table>
<div class="detailBody">
<p>
<code>public onClose = function() {}</code>
</p>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Invoked only when an open connection is closed by the server. The default implementation of this method performs no actions. To override the default implementation, you must assign a function containing custom actions.            </p><br>
<span class="label">Example</span>
<br>The following example executes a trace statement if an open connection is closed by the server:       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket();
socket.connect(null, 2000);
socket.onClose = function () {
    trace("Connection to server lost.");
}
</pre></div>            <p></p>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="XMLSocket.html#event:onConnect" target="">XMLSocket.onConnect</a>
<br>
<a href="statements.html#function" target="">function statement</a>
</div>
</div>
<a name="event:onConnect"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">onConnect</td><td class="detailHeaderType">event&nbsp;handler</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<p>
<code>public onConnect = function(success:<a href="Boolean.html">Boolean</a>) {}</code>
</p>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Invoked by Flash Player when a connection request initiated through <code>XMLSocket.connect()</code> has succeeded or failed. If the connection succeeded, the <code>success</code> parameter is <code>true</code>; otherwise the <code>success</code> parameter is <code>false</code>.       </p><p>The default implementation of this method performs no actions. To override the default implementation, you must assign a function containing custom actions.</p>            <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">success</span>:<a href="Boolean.html">Boolean</a></code> &mdash; A Boolean value indicating whether a socket connection is successfully established (<code>true</code> or <code>false</code>).                 </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br><span class="flashonly">The following example illustrates the process of specifying a replacement function for the <code>onConnect</code> method in a simple chat application.       <p>After creating the XMLSocket object using the constructor method, the script defines the custom function to be executed when the onConnect event handler is invoked. The function controls the screen to which users are taken, depending on whether a connection is successfully established. If the connection is successfully made, users are taken to the main chat screen on the frame labeled <code>startChat</code>. If the connection is not successful, users go to a screen with troubleshooting information on the frame labeled <code>connectionFailed</code>. </p>       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket();
socket.onConnect = function (success) {
    if (success) {
        gotoAndPlay("startChat");
    } else {
        gotoAndStop("connectionFailed");
    }
}
</pre></div>       <p>Finally, the connection is initiated. If <code>connect()</code> returns <code>false</code>, the SWF file is sent directly to the frame labeled <code>connectionFailed</code>, and <code>onConnect</code> is never invoked. If <code>connect()</code> returns <code>true</code>, the SWF file jumps to a frame labeled <code>waitForConnection</code>, which is the "Please wait" screen. The SWF file remains on the <code>waitForConnection</code> frame until the <code>onConnect</code> handler is invoked, which happens at some point in the future depending on network latency. </p>       <div class='listing'><pre>
if (!socket.connect(null, 2000)) {
    gotoAndStop("connectionFailed");
} else {
    gotoAndStop("waitForConnection");
}
</pre></div></span>            <p></p>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="XMLSocket.html#connect()" target="">XMLSocket.connect()</a>
<br>
<a href="statements.html#function" target="">function statement</a>
</div>
</div>
<a name="event:onData"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">onData</td><td class="detailHeaderType">event&nbsp;handler</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<p>
<code>public onData = function(src:<a href="String.html">String</a>) {}</code>
</p>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Invoked when a message has been downloaded from the server, terminated by a zero (0) byte. You can override <code>XMLSocket.onData</code> to intercept the data sent by the server without parsing it as XML. This is a useful if you're transmitting arbitrarily formatted data packets, and you'd prefer to manipulate the data directly when it arrives, rather than have Flash Player parse the data as XML.       </p><p>By default, the <code>XMLSocket.onData</code> method invokes the <code>XMLSocket.onXML</code> method. If you override <code>XMLSocket.onData</code> with custom behavior, <code>XMLSocket.onXML</code> is not called unless you call it in your implementation of <code>XMLSocket.onData</code>. </p>            <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">src</span>:<a href="String.html">String</a></code> &mdash; A string containing the data sent by the server.                 </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br>In this example, the <code>src</code> parameter is a string containing XML text downloaded from the server. The zero (0) byte terminator is not included in the string.       <div class='listing'><pre>
XMLSocket.prototype.onData = function (src) {
    this.onXML(new XML(src));
}
</pre></div>            <p></p>
</div>
<a name="event:onXML"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">onXML</td><td class="detailHeaderType">event&nbsp;handler</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<p>
<code>public onXML = function(src:<a href="XML.html">XML</a>) {}</code>
</p>
<p></p>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" style="white-space:nowrap"><b>Player version:&nbsp;</b></td><td>Flash Player 5</td>
</tr>
</table>
<p></p><p>Invoked by Flash Player when the specified XML object containing an XML document arrives over an open XMLSocket connection. An XMLSocket connection can be used to transfer an unlimited number of XML documents between the client and the server. Each document is terminated with a zero (0) byte. When Flash Player receives the zero byte, it parses all the XML received since the previous zero byte or since the connection was established if this is the first message received. Each batch of parsed XML is treated as a single XML document and passed to the <code>onXML</code> method.       </p><p>The default implementation of this method performs no actions. To override the default implementation, you must assign a function containing actions that you define.</p>            <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">src</span>:<a href="XML.html">XML</a></code> &mdash; An XML object that contains a parsed XML document received from a server.                 </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br>The following function overrides the default implementation of the <code>onXML</code>       method in a simple chat application. The function <code>myOnXML</code> instructs the chat       application to recognize a single XML element, <code>MESSAGE</code>, in the following format.       <pre><code>
      &#60;MESSAGE user="John" text="Hello, my name is John!" /&#62;.
      </code></pre>             <p>The following function <code>displayMessage()</code> is assumed to be a user-defined function that displays the message received by the user:</p>       <div class='listing'><pre>
var socket:XMLSocket = new XMLSocket();
socket.onXML = function (doc) {
    var e = doc.firstChild;
    if (e != null &amp;&amp; e.nodeName == "MESSAGE") {
        displayMessage(e.attributes.user, e.attributes.text);
    }
}
</pre></div>            <p></p>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">
<a href="statements.html#function" target="">function statement</a>
</div>
</div>
<br>
<br>
<hr>
<br>
<p></p>
<center class="copyright"> &copy; 2004-2010 Adobe Systems Incorporated. All rights reserved. <br>Wed Apr 7 2010, 4:41 PM GMT-07:00 </center>
</div>
</body>
</html>
<!-- &copy; 2004-2010 Adobe Systems Incorporated. All rights reserved. Wed Apr 7 2010, 4:41 PM GMT-07:00 -->
